<!DOCTYPE html>
<html>
  <head>
    <title>TravelBuddy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <%= javascript_importmap_tags %>
  
  </head>

  <body>
  <%= render "shared/flashes" %>
  
   <% if user_signed_in? || 
       (!current_page?(new_user_session_path) && 
        !current_page?(new_user_registration_path) && 
        !current_page?(edit_user_registration_path) && 
        !current_page?(edit_user_password_path) &&
        !current_page?(new_user_password_path) &&
        !current_page?(new_user_registration_path) &&
        !current_page?(user_registration_path) &&
        !current_page?(cancel_user_registration_path) &&
         current_page?(home_path) &&
         current_page?(itineraries_path) &&
        !flash[:alert] && 
        !flash[:error] &&
        !(resource&.errors&.any? if defined?(resource))) %>
    <%= render 'shared/navbar' %>

  <% elsif current_page?(root_path) %>
   <%= render 'shared/navbar' %>
  <% end %>
  <%= yield %>
  </div>
</body>
</html>
