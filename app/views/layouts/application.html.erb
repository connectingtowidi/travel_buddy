<!DOCTYPE html>
<html>
  <head>
    <title>TravelBuddy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css", rel: "stylesheet" %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <%= javascript_importmap_tags %>
  
  </head>

  <body>
  <%= render "shared/flashes" %>
  
  <% if user_signed_in? || 
       (!devise_controller? && 
        (current_page?(home_path) || current_page?(itineraries_path)) &&
        !flash[:alert] && 
        !flash[:error] && 
        !(defined?(resource) && resource.errors.any?)) %>
  <%= render 'shared/navbar' %>
<% elsif current_page?(root_path) %>
  <%= render 'shared/navbar' %>
<% end %>

  <%= yield %>
  </div>
</body>
</html>
