<%= render "devise/shared/login_container" do %>
  <%= simple_form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
    <%= f.error_notification %>

    <div class="form-inputs">
      <%= f.input :email,
              required: false,
              autofocus: true,
              input_html: { autocomplete: "email", class: "form-control #{'is-invalid' if flash[:alert]} bg-secondary-subtle"} %>

     <% if flash[:alert] %>
     <div class="invalid-feedback">
       Invalid email or password
     </div>
     <% end %>

     <div class="mb-3 password-container" data-controller="password-toggle">
      <%= f.label :password, class: "form-label" %>
      <div class="position-relative">
        <%= f.input_field :password,
              required: false,
              autocomplete: "current-password",
              value: "user1pw",
              class: "form-control #{'is-invalid' if flash[:alert]} bg-secondary-subtle",
              data: { password_toggle_target: "password" } %>
        <span class="position-absolute end-0 top-50 translate-middle-y me-3 text-muted">
        <i class="fa-solid fa-eye-slash" data-password-toggle-target="toggleIcon"
        data-action="click->password-toggle#toggle"></i>
      </span>
      </div>
    </div>


      <% if flash[:alert] %>
      <div class="invalid-feedback">
        Invalid email or password
      </div>
      <% end %>

      <%= f.input :remember_me, as: :boolean if devise_mapping.rememberable? %>
    </div>

    <div class="form-actions mt-5 mb-4">
      <%= f.button :submit, "Let's go", class: "btn btn-dark w-10" %>
    </div>
  <% end %>
<% end %>
